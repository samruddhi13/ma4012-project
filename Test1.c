#pragma config(Sensor, in1,    fuzzy,          sensorAnalog)
#pragma config(Sensor, dgtl3,  lineRight,      sensorDigitalIn)
#pragma config(Sensor, dgtl10, rightSens,      sensorDigitalIn)
#pragma config(Motor,  port2,           leftmotor,     tmotorServoContinuousRotation, openLoop)
#pragma config(Motor,  port3,           rightmotor,    tmotorServoContinuousRotation, openLoop)
#pragma config(Motor,  port4,           scoopmotor,    tmotorVex393_MC29, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

int ballTime = 0;
int checkBallTime =0;
int tennisState = 0;
int x = 0;


void reverse() {

		motor(leftmotor) = -25;
		motor(rightmotor) = 25;
		wait1Msec(250);
		motor(leftmotor) = 0;
		motor(rightmotor) = 0;
		wait1Msec(250);

}

void moveFwd() {

		motor(leftmotor) = 25;
		motor(rightmotor) = -25;
		wait1Msec(1000);
		motor(leftmotor) = 0;
		motor(rightmotor) = 0;
		wait1Msec(1000);
	}
	
void widthScan() {

switch(tennisState){
    case 0://initial state
    	clearTimer(T1);
      if(1000<SensorValue(fuzzy)<2000){
        ballTime = time1[T1];
        tennisState = 1;
        x = 10;
      }
      break;
    case 1://eval state
      if(time1[T1]-ballTime>999){
      tennisState = 2; }
      if(SensorValue(fuzzy)<1000 || SensorValue(fuzzy)>2000) {
      tennisState = 0;
       x = 8;
     }
      break;
    case 2://value accepted
      reverse();
  }
}

void rotate45() {

		motor(leftmotor) = -25;
		motor(rightmotor) = -25;
		wait1Msec(1000);
		motor(leftmotor) = 0;
		motor(rightmotor) = 0;
		wait1Msec(1000);

}

void scoop()
{

		motor(scoopmotor) = -127;
		wait1Msec(1000);
		motor(scoopmotor) = 0;
		wait1Msec(1000);
		motor(scoopmotor) = 127;
		wait1Msec(1000);
		motor(scoopmotor) = 0;
		wait1Msec(1000);

}

void avoidOpp() {}

task main()
{
	
	while(true) {
	widthScan();
 /*	if (SensorValue(rightSens) == 0)
 {
	reverse(); }
	
 	if (SensorValue(lineRight) == 0)
 {
	reverse(); } */
	

} 
}
